{"version":3,"sources":["js/readmore.js"],"names":["$","fn","truncate","options","extend","length","minTrail","moreText","lessText","ellipsisText","each","obj","body","html","splitLocation","indexOf","str1","substring","str2","find","css","append","moreLink","moreContent","ellipsis","click","text","show","hide","jQuery","ready"],"mappings":";CAAA,SAAUA,GACRA,EAAEC,GAAGC,SAAW,SAASC,GAUnBA,EAAUH,EAAEI,OARD,CACbC,OAAQ,IACRC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,aAAc,IAGiBN,GAE1B,OAAA,KAAKO,KAAK,WACfC,IAAMX,EAAE,MACJY,IAAAA,EAAOD,IAAIE,OAEXD,GAAAA,EAAKP,OAASF,EAAQE,OAASF,EAAQG,WAEnB,IADlBQ,EAAgBF,EAAKG,QAAQ,IAAKZ,EAAQE,SACrB,CAEnBS,IAAAA,EAAgBF,EAAKG,QAAQ,IAAKZ,EAAQE,QAC1CW,EAAOJ,EAAKK,UAAU,EAAGH,GACzBI,EAAON,EAAKK,UAAUH,EAAeF,EAAKP,OAAS,GACvDM,IAAIE,KAAKG,EAAO,mCAAqCb,EAAQM,aAC3D,uCAA8CS,EAAO,WACvDP,IAAIQ,KAAK,kBAAkBC,IAAI,UAAW,QAE1CT,IAAIU,OACF,iEAC4ClB,EAAQI,SAAW,cAI7De,IAAAA,EAAWtB,EAAE,sBAAuBW,KACpCY,EAAcvB,EAAE,iBAAkBW,KAClCa,EAAWxB,EAAE,qBAAsBW,KACvCW,EAASG,MAAM,WAUN,OATHH,EAASI,QAAUvB,EAAQI,UAC7BgB,EAAYI,KAAK,UACjBL,EAASI,KAAKvB,EAAQK,UACtBgB,EAASJ,IAAI,UAAW,UAExBG,EAAYK,KAAK,UACjBN,EAASI,KAAKvB,EAAQI,UACtBiB,EAASJ,IAAI,UAAW,YAEnB,QA/CnB,CAsDGS,QAEH7B,IAAI8B,MAAM,WACR9B,EAAE,UAAUE,SAAS,CACnBG,OAAQ,EACRC,SAAU,GACVC,SAAU,YACVC,SAAU,OACVC,aAAc","file":"readmore.7678b70a.js","sourceRoot":"../src","sourcesContent":["(function($) {\n  $.fn.truncate = function(options) {\n\n    var defaults = {\n      length: 100,\n      minTrail: 10,\n      moreText: \"\",\n      lessText: \"\",\n      ellipsisText: \"\"\n    };\n\n    var options = $.extend(defaults, options);\n\n    return this.each(function() {\n      obj = $(this);\n      var body = obj.html();\n\n      if (body.length > options.length + options.minTrail) {\n        var splitLocation = body.indexOf(' ', options.length);\n        if (splitLocation != -1) {\n\n          var splitLocation = body.indexOf(' ', options.length);\n          var str1 = body.substring(0, splitLocation);\n          var str2 = body.substring(splitLocation, body.length - 1);\n          obj.html(str1 + '<span class=\"truncate_ellipsis\">' + options.ellipsisText +\n            '</span>' + '<span  class=\"truncate_more\">' + str2 + '</span>');\n          obj.find('.truncate_more').css(\"display\", \"none\");\n\n          obj.append(\n            '<div class=\"clearboth\">' +\n            '<a href=\"#\" class=\"truncate_more_link\">' + options.moreText + '</a>' +\n            '</div>'\n          );\n\n          var moreLink = $('.truncate_more_link', obj);\n          var moreContent = $('.truncate_more', obj);\n          var ellipsis = $('.truncate_ellipsis', obj);\n          moreLink.click(function() {\n            if (moreLink.text() == options.moreText) {\n              moreContent.show('normal');\n              moreLink.text(options.lessText);\n              ellipsis.css(\"display\", \"none\");\n            } else {\n              moreContent.hide('normal');\n              moreLink.text(options.moreText);\n              ellipsis.css(\"display\", \"inline\");\n            }\n            return false;\n          });\n        }\n      }\n\n    });\n  };\n})(jQuery);\n\n$().ready(function() {\n  $('.story').truncate({\n    length: 0,\n    minTrail: 10,\n    moreText: 'Read more',\n    lessText: 'Less',\n    ellipsisText: \"\"\n  });\n});\n"]}